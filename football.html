<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>2D Football Game</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            background: linear-gradient(135deg, #1e3c72, #2a5298);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100vh;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            overflow: hidden;
        }
        
        canvas {
            border: 4px solid #fff;
            border-radius: 8px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.5);
            background: #4a8c4a;
        }
        
        .ui {
            color: white;
            text-align: center;
            margin-bottom: 10px;
        }
        
        .score {
            font-size: 32px;
            font-weight: bold;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
        }
        
        .controls {
            margin-top: 10px;
            color: rgba(255,255,255,0.8);
            font-size: 14px;
        }
        
        .goal-text {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 64px;
            font-weight: bold;
            color: #FFD700;
            text-shadow: 4px 4px 8px rgba(0,0,0,0.8);
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.3s;
        }
        
        .goal-text.show {
            opacity: 1;
            animation: celebrate 0.5s ease-out;
        }
        
        @keyframes celebrate {
            0% { transform: translate(-50%, -50%) scale(0.5); }
            50% { transform: translate(-50%, -50%) scale(1.2); }
            100% { transform: translate(-50%, -50%) scale(1); }
        }
    </style>
</head>
<body>
    <div class="ui">
        <div class="score" id="score">Player 0 - 0 Computer</div>
        <div class="controls">Use Arrow Keys to Move â€¢ Score in the opponent's goal!</div>
    </div>
    <canvas id="gameCanvas" width="800" height=400"></canvas>
    <div class="goal-text" id="goalText">GOAL!</div>

    <script>
        const canvas = document.getElementById('gameCanvas');
        const ctx = canvas.getContext('2d');
        const goalText = document.getElementById('goalText');
        const scoreDisplay = document.getElementById('score');

        // Game state
        const game = {
            playerScore: 0,
            computerScore: 0,
            goalCooldown: 0
        };

        // Pitch dimensions
        const pitch = {
            width: 800,
            height: 400,
            goalWidth: 100,
            goalDepth: 20
        };

        // Player (You)
        const player = {
            x: 100,
            y: 200,
            radius: 15,
            speed: 5,
            color: '#ff6b6b',
            vx: 0,
            vy: 0
        };

        // Computer opponent
        const computer = {
            x: 700,
            y: 200,
            radius: 15,
            speed: 3.5,
            color: '#4ecdc4',
            vx: 0,
            vy: 0
        };

        // Ball
        const ball = {
            x: 400,
            y: 200,
            radius: 8,
            vx: 0,
            vy: 0,
            friction: 0.98,
            color: '#fff'
        };

        // Input handling
        const keys = {};
        window.addEventListener('keydown', (e) => keys[e.key] = true);
        window.addEventListener('keyup', (e) => keys[e.key] = false);

        function updatePlayer() {
            player.vx = 0;
            player.vy = 0;
            
            if (keys['ArrowUp']) player.vy = -player.speed;
            if (keys['ArrowDown']) player.vy = player.speed;
            if (keys['ArrowLeft']) player.vx = -player.speed;
            if (keys['ArrowRight']) player.vx = player.speed;
            
            player.x += player.vx;
            player.y += player.vy;
            
            // Keep player on screen
            player.x = Math.max(player.radius, Math.min(pitch.width - player.radius, player.x));
            player.y = Math.max(player.radius, Math.min(pitch.height - player.radius, player.y));
        }

        function updateComputer() {
            // Simple AI - follows ball with some delay
            const dx = ball.x - computer.x;
            const dy = ball.y - computer.y;
            const distance = Math.sqrt(dx * dx + dy * dy);
            
            if (distance > 5) {
                computer.vx = (dx / distance) * computer.speed;
                computer.vy = (dy / distance) * computer.speed;
            }
            
            computer.x += computer.vx;
            computer.y += computer.vy;
            
            // Keep computer on its half (defensive)
            if (computer.x < pitch.width / 2) {
                computer.x = pitch.width / 2;
            }
            
            computer.x = Math.max(pitch.width/2, Math.min(pitch.width - computer.radius, computer.x));
            computer.y = Math.max(computer.radius, Math.min(pitch.height - computer.radius, computer.y));
        }

        function updateBall() {
            ball.x += ball.vx;
            ball.y += ball.vy;
            
            // Friction
            ball.vx *= ball.friction;
            ball.vy *= ball.friction;
            
            // Wall collisions
            if (ball.y - ball.radius < 0 || ball.y + ball.radius > pitch.height) {
                ball.vy *= -0.8;
                ball.y = ball.y < pitch.height/2 ? ball.radius : pitch.height - ball.radius;
            }
            
            // Goal detection (left goal - player scores)
            if (ball.x < pitch.goalDepth && 
                ball.y > pitch.height/2 - pitch.goalWidth/2 && 
                ball.y < pitch.height/2 + pitch.goalWidth/2) {
                scoreGoal('player');
            }
            
            // Goal detection (right goal - computer scores)
            if (ball.x > pitch.width - pitch.goalDepth && 
                ball.y > pitch.height/2 - pitch.goalWidth/2 && 
                ball.y < pitch.height/2 + pitch.goalWidth/2) {
                scoreGoal('computer');
            }
            
            // Side walls (bounce)
            if (ball.x - ball.radius < 0 || ball.x + ball.radius > pitch.width) {
                ball.vx *= -0.8;
                ball.x = ball.x < pitch.width/2 ? ball.radius : pitch.width - ball.radius;
            }
            
            // Player collision with ball
            handleCollision(player);
            
            // Computer collision with ball
            handleCollision(computer);
        }

        function handleCollision(entity) {
            const dx = ball.x - entity.x;
            const dy = ball.y - entity.y;
            const distance = Math.sqrt(dx * dx + dy * dy);
            const minDistance = ball.radius + entity.radius;
            
            if (distance < minDistance) {
                // Push ball away
                const angle = Math.atan2(dy, dx);
                const force = 8;
                
                ball.vx = Math.cos(angle) * force;
                ball.vy = Math.sin(angle) * force;
                
                // Separate entities to prevent sticking
                const overlap = minDistance - distance;
                ball.x += Math.cos(angle) * overlap;
                ball.y += Math.sin(angle) * overlap;
            }
        }

        function scoreGoal(scorer) {
            if (game.goalCooldown > 0) return;
            
            if (scorer === 'player') {
                game.playerScore++;
                showGoalText();
            } else {
                game.computerScore++;
                showGoalText();
            }
            
            updateScore();
            game.goalCooldown = 120; // 2 seconds at 60fps
            
            // Reset positions
            setTimeout(() => {
                ball.x = pitch.width / 2;
                ball.y = pitch.height / 2;
                ball.vx = 0;
                ball.vy = 0;
                player.x = 100;
                player.y = 200;
                computer.x = 700;
                computer.y = 200;
            }, 1000);
        }

        function showGoalText() {
            goalText.classList.add('show');
            setTimeout(() => goalText.classList.remove('show'), 1500);
        }

        function updateScore() {
            scoreDisplay.textContent = `Player ${game.playerScore} - ${game.computerScore} Computer`;
        }

        function drawField() {
            // Grass
            ctx.fillStyle = '#4a8c4a';
            ctx.fillRect(0, 0, pitch.width, pitch.height);
            
            // Stripes
            ctx.fillStyle = '#3d7a3d';
            for (let i = 0; i < pitch.width; i += 100) {
                ctx.fillRect(i, 0, 50, pitch.height);
            }
            
            // Lines
            ctx.strokeStyle = 'rgba(255,255,255,0.8)';
            ctx.lineWidth = 3;
            
            // Center line
            ctx.beginPath();
            ctx.moveTo(pitch.width/2, 0);
            ctx.lineTo(pitch.width/2, pitch.height);
            ctx.stroke();
            
            // Center circle
            ctx.beginPath();
            ctx.arc(pitch.width/2, pitch.height/2, 50, 0, Math.PI * 2);
            ctx.stroke();
            
            // Goals
            ctx.fillStyle = 'rgba(255,255,255,0.3)';
            // Left goal
            ctx.fillRect(0, pitch.height/2 - pitch.goalWidth/2, pitch.goalDepth, pitch.goalWidth);
            // Right goal
            ctx.fillRect(pitch.width - pitch.goalDepth, pitch.height/2 - pitch.goalWidth/2, pitch.goalDepth, pitch.goalWidth);
            
            // Goal nets (lines)
            ctx.strokeStyle = 'rgba(255,255,255,0.5)';
            ctx.lineWidth = 1;
            for (let i = 0; i < 5; i++) {
                let y = pitch.height/2 - pitch.goalWidth/2 + (pitch.goalWidth/5) * i;
                ctx.beginPath();
                ctx.moveTo(0, y);
                ctx.lineTo(pitch.goalDepth, y);
                ctx.stroke();
                
                ctx.beginPath();
                ctx.moveTo(pitch.width - pitch.goalDepth, y);
                ctx.lineTo(pitch.width, y);
                ctx.stroke();
            }
        }

        function drawEntity(entity) {
            ctx.beginPath();
            ctx.arc(entity.x, entity.y, entity.radius, 0, Math.PI * 2);
            ctx.fillStyle = entity.color;
            ctx.fill();
            ctx.strokeStyle = 'rgba(0,0,0,0.3)';
            ctx.lineWidth = 2;
            ctx.stroke();
            
            // Shine effect
            ctx.beginPath();
            ctx.arc(entity.x - 4, entity.y - 4, entity.radius/3, 0, Math.PI * 2);
            ctx.fillStyle = 'rgba(255,255,255,0.3)';
            ctx.fill();
        }

        function drawBall() {
            ctx.beginPath();
            ctx.arc(ball.x, ball.y, ball.radius, 0, Math.PI * 2);
            ctx.fillStyle = ball.color;
            ctx.fill();
            
            // Ball pattern
            ctx.strokeStyle = '#333';
            ctx.lineWidth = 1;
            ctx.beginPath();
            ctx.moveTo(ball.x - 3, ball.y - 3);
            ctx.lineTo(ball.x + 3, ball.y + 3);
            ctx.moveTo(ball.x + 3, ball.y - 3);
            ctx.lineTo(ball.x - 3, ball.y + 3);
            ctx.stroke();
        }

        function gameLoop() {
            if (game.goalCooldown > 0) {
                game.goalCooldown--;
            }
            
            updatePlayer();
            updateComputer();
            updateBall();
            
            drawField();
            drawEntity(player);
            drawEntity(computer);
            drawBall();
            
            requestAnimationFrame(gameLoop);
        }

        // Start game
        gameLoop();
    </script>
</body>
</html>
